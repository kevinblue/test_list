<?xml version="1.0" encoding="UTF-8"?>

<table-root 
  xmlns="http://www.tracywindy.org/table" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.tracywindy.org/table http://www.tracywindy.org/table/table-1.0.xsd">
  <table>
    <data>
    <alldb>
      <table_sql> 
	        <![CDATA[
		        SELECT   
		          T_JBPM_ACTIVITY_DETAIL.ID_ AS ID, 
		          T_JBPM_ACTIVITY_DETAIL.JBPM4_DEPLOYMENT_DBID_ AS DEPLOYMENTIMPL,
		          T_JBPM_DESIGNER_TRANSFER.WORKFLOW_NAME_ AS WORKFLOWNAME,
		          T_JBPM_DESIGNER_TRANSFER.DISPLAY_NAME_  as DISPLAYWORKFLOWNAME,
		          ACTIVITY_NAME_ AS ACTIVITYNAME, 
		          ACTIVITY_TYPE_ AS ACTIVITYTYPE, 
		          ACTOR_TYPE_ AS ACTORTYPE, 
		          ACTOR_VALUE_ AS ACTORVALUE, 
		          CONDITION_ROUTE_TYPE_ AS CONDITIONROUTETYPE, 
		          CONDITION_ROUTE_VALUE_ AS CONDITIONROUTEVALUE, 
		          MESSAGE_TYPES_ AS MESSAGETYPES, 
		          MESSAGE_CONTENT_ AS MESSAGECONTENT, 
		          READ_MESSAGE_TYPES_ AS READMESSAGETYPES, 
		          READ_MESSAGE_CONTENT_ AS READMESSAGECONTENT, 
		          SIGNATURE_MESSAGE_TYPES_ AS SIGNATUREMESSAGETYPES, 
		          SIGNATURE_MESSAGE_CONTENT_ AS SIGNATUREMESSAGECONTENT, 
		          ACTOR_VALUE_DISPLAY_ AS DISPLAYACTORVALUE, 
		          AUTO_READ_ACTOR_TYPE_ AS AUTOREADACTORTYPE, 
		          AUTO_READ_ACTOR_VALUE_ AS AUTOREADACTORVALUE, 
		          AUTO_READ_DISPLAY_ AS AUTOREADDISPLAYACTORVALUE, 
		          AUTO_SIGNATURE_ACTOR_TYPE_ AS AUTOSIGNATUREACTORTYPE, 
		          AUTO_SIGNATURE_ACTOR_VALUE_ AS AUTOSIGNATUREACTORVALUE,
		          AUTO_SIGNATURE_DISPLAY_ AS AUTOSIGNATUREDISPLAYACTORVALUE,
		          DEAL_METHOD_ AS DEALMETHOD, 
		          PASSED_COUNT_ as PASSEDCOUNT, 
		          ACTIVITY_ACTION_ AS ACTIVITYACTION, 
		          ATTACHMENT_TYPE_ AS ATTACHMENTTYPE, 
		          ATTACHMENT_TYPE_IDS_ AS ATTACHMENTTYPE_IDS, 
		          FORM_PATH_ AS FORMPATH, 
		          FORM_TITLE_ AS FORMTITLE, 
		          IS_NEED_ADVISE_ AS ISNEEDADVISE, 
		          IS_AUTO_ACTIVITY_ AS ISAUTOACTIVITY,
		          IS_NEED_ADVISE_EXCLUDE_ AS ISNEEDADVISEEXCLUDE,
		          (CASE IS_NEED_ADVISE_EXCLUDE_   WHEN 1 THEN '是' ELSE '否' END ) AS ISNEEDADVISEEXCLUDEDESC,
		          OPERATION_BUTTONS_ AS OPERATIONBUTTONS, 
		          EXC_MES_ACTIVITIES   AS EXCLUDEMESSAGEACTIVITIES,
		          EXC_MES_ACTIVITIES_DESC   AS EXCLUDEMESSAGEACTIVITIESDESC,
		          BACK_ACTIVITIES_   AS BACKACTIVITIES,
		          (CASE IS_ATTACHMENT_CHECKED_   WHEN 1 THEN 'true' ELSE 'false' END ) AS ISATTACHMENTCHECKED,
			      (CASE IS_ATTACHMENT_CHECKED_   WHEN 1 THEN '是' ELSE '否' END ) AS ISATTACHMENTCHECKEDDESC
		          FROM T_JBPM_ACTIVITY_DETAIL  
		          LEFT JOIN JBPM4_DEPLOYMENT ON JBPM4_DEPLOYMENT.DBID_ = T_JBPM_ACTIVITY_DETAIL.JBPM4_DEPLOYMENT_DBID_
		          LEFT JOIN T_JBPM_DESIGNER_TRANSFER 
		          ON T_JBPM_DESIGNER_TRANSFER.ID_ = JBPM4_DEPLOYMENT.JBPM_WORKFLOW_DESIGNER_ID_
		          WHERE 1 = (CASE WHEN T_JBPM_ACTIVITY_DETAIL.ENABLED_ IS NULL THEN 1 ELSE T_JBPM_ACTIVITY_DETAIL.ENABLED_ END) 
	              /~deployId: AND  T_JBPM_ACTIVITY_DETAIL.JBPM4_DEPLOYMENT_DBID_={deployId}~/
	              <EXTRACTEND>ORDER BY (CASE ACTIVITYTYPE WHEN 'start' THEN '00' WHEN 'end' THEN '99' ELSE '10' END),ACTIVITYNAME<EXTRACTEND>
			 ]]> 
	  </table_sql>
	  </alldb>
      <dataSource>dataSource</dataSource>
      <show_sql>true</show_sql>
    </data>
  </table>
</table-root>